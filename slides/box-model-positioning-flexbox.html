<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 10: Box Model, Positioning, and Flexbox</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-bg: #ecf0f1;
            --text-color: #2c3e50;
            --code-bg: #1e1e1e;
            --code-text: #d4d4d4;
        }

        html, body {
            height: 100%;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--primary-color);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .slideshow-container {
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .slide {
            display: none;
            flex: 1;
            padding: 1.5rem 2rem;
            color: white;
            overflow-y: auto;
            animation: fadeIn 0.5s ease-in-out;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .slide-content {
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .slide-content.centered {
            justify-content: center;
        }

        h1 {
            font-size: clamp(1.8rem, 5vw, 3rem);
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            line-height: 1.2;
        }

        h2 {
            font-size: clamp(1.4rem, 4vw, 2.2rem);
            margin-bottom: 0.75rem;
            color: #ffeaa7;
        }

        h3 {
            font-size: clamp(1.1rem, 3vw, 1.5rem);
            margin: 0.75rem 0 0.4rem;
            color: #81ecec;
        }

        h4 {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            margin: 0.5rem 0 0.3rem;
            color: #dfe6e9;
        }

        p {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            line-height: 1.5;
            margin-bottom: 0.5rem;
        }

        ul, ol {
            font-size: clamp(0.95rem, 2.2vw, 1.15rem);
            line-height: 1.6;
            margin-left: 1.5rem;
            margin-bottom: 0.5rem;
        }

        li {
            margin-bottom: 0.3rem;
        }

        a {
            color: #ffeaa7;
            text-decoration: underline;
        }

        a:hover {
            color: #fdcb6e;
        }

        code {
            background: rgba(0,0,0,0.3);
            padding: 0.2em 0.5em;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        pre {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 0.5rem 0;
            font-size: clamp(0.75rem, 1.6vw, 0.95rem);
            line-height: 1.4;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .highlight {
            background: rgba(255,255,255,0.15);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            border-left: 4px solid #ffeaa7;
            margin: 0.5rem 0;
        }

        .note {
            background: rgba(46, 204, 113, 0.2);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            border-left: 4px solid #2ecc71;
            margin: 0.5rem 0;
        }

        .caution {
            background: rgba(231, 76, 60, 0.2);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
            margin: 0.5rem 0;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: start;
        }

        .three-column {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            align-items: start;
        }

        @media (max-width: 900px) {
            .three-column {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .two-column, .three-column {
                grid-template-columns: 1fr;
            }
        }

        .codepen-container {
            margin: 0.5rem 0;
            border-radius: 8px;
            overflow: hidden;
            flex: 1;
            min-height: 0;
        }

        .codepen-container iframe {
            border: none;
            width: 100%;
            height: 100%;
            min-height: 300px;
            border-radius: 8px;
        }

        .image-container {
            text-align: center;
            margin: 0.5rem 0;
        }

        .image-container img {
            max-width: 100%;
            max-height: 45vh;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1rem;
            background: var(--primary-color);
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 0.6rem 1.2rem;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--secondary-color);
            color: white;
        }

        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: #7f8c8d;
            cursor: not-allowed;
            transform: none;
        }

        .slide-counter {
            color: white;
            font-size: 1rem;
            min-width: 100px;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255,255,255,0.2);
        }

        .progress {
            height: 100%;
            background: var(--secondary-color);
            transition: width 0.3s ease;
        }

        /* Interactive playground */
        .playground {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            flex: 1;
            min-height: 0;
        }

        @media (max-width: 800px) {
            .playground {
                grid-template-columns: 1fr;
            }
        }

        .controls {
            background: rgba(0,0,0,0.2);
            padding: 1rem;
            border-radius: 8px;
            overflow-y: auto;
        }

        .control-group {
            margin-bottom: 0.75rem;
        }

        .control-group label {
            display: block;
            font-size: 0.85rem;
            margin-bottom: 0.2rem;
            color: #81ecec;
        }

        .control-group input[type="range"],
        .control-group input[type="number"],
        .control-group select {
            width: 100%;
            padding: 0.4rem;
            border-radius: 4px;
            border: 1px solid rgba(255,255,255,0.3);
            background: rgba(255,255,255,0.9);
            color: #333;
            font-size: 0.95rem;
        }

        .control-group input[type="range"] {
            padding: 0;
            height: 8px;
            cursor: pointer;
        }

        .control-value {
            font-size: 0.8rem;
            color: #ffeaa7;
            margin-top: 0.15rem;
        }

        .preview-area {
            background: rgba(255,255,255,0.95);
            color: #333;
            padding: 1.5rem;
            border-radius: 8px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: auto;
        }

        .code-output {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.8rem;
            margin-top: 0.5rem;
            white-space: pre-wrap;
            word-break: break-all;
        }

        /* Slide themes */
        .slide:nth-child(odd) {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .slide:nth-child(even) {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .slide:nth-child(3n) {
            background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
        }

        .slide:nth-child(4n) {
            background: linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%);
        }

        .slide:nth-child(5n) {
            background: linear-gradient(135deg, #c31432 0%, #240b36 100%);
        }

        /* Box model demo */
        .box-model-layers {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0.5rem 0;
        }

        .bm-margin {
            background: rgba(243, 171, 115, 0.5);
            padding: 20px;
            border-radius: 4px;
            text-align: center;
        }

        .bm-border {
            background: rgba(253, 203, 110, 0.7);
            padding: 15px;
            border-radius: 4px;
        }

        .bm-padding {
            background: rgba(129, 236, 236, 0.5);
            padding: 20px;
            border-radius: 4px;
        }

        .bm-content {
            background: rgba(108, 92, 231, 0.6);
            color: white;
            padding: 20px 30px;
            font-weight: bold;
            border-radius: 4px;
        }

        .bm-label {
            font-size: 0.75rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 4px;
        }

        /* Position cards */
        .position-card {
            background: rgba(0,0,0,0.2);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .position-card h4 {
            margin-top: 0;
        }

        .position-card code {
            font-size: 0.85em;
        }

        /* Comparison table */
        table.compare-table {
            width: 100%;
            border-collapse: collapse;
            margin: 0.5rem 0;
            font-size: clamp(0.8rem, 1.8vw, 1rem);
        }

        table.compare-table th,
        table.compare-table td {
            border: 1px solid rgba(255,255,255,0.3);
            padding: 0.4rem 0.6rem;
            text-align: left;
        }

        table.compare-table th {
            background: rgba(0,0,0,0.2);
        }

        /* Interactive demo buttons */
        .demo-btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.4rem;
            margin: 0.5rem 0;
        }

        .demo-btn {
            padding: 0.4rem 0.8rem;
            border: 2px solid rgba(255,255,255,0.4);
            background: rgba(0,0,0,0.2);
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .demo-btn:hover {
            background: rgba(255,255,255,0.15);
        }

        .demo-btn.active {
            background: rgba(52, 152, 219, 0.6);
            border-color: #3498db;
        }

        /* Flex demo container */
        .flex-demo-area {
            background: rgba(255,255,255,0.95);
            border-radius: 8px;
            padding: 1rem;
            min-height: 120px;
            flex: 1;
        }

        .flex-demo-item {
            padding: 0.75rem 1rem;
            border-radius: 6px;
            font-weight: bold;
            font-size: 0.9rem;
            color: white;
            text-align: center;
            transition: all 0.3s ease;
        }

        /* Positioning demo */
        .pos-demo-container {
            background: rgba(255,255,255,0.95);
            border-radius: 8px;
            position: relative;
            flex: 1;
            min-height: 250px;
            overflow: hidden;
        }

        .pos-demo-box {
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.8rem;
            color: white;
            transition: all 0.4s ease;
        }

        /* Nav demo styles */
        .nav-demo {
            border-radius: 6px;
            padding: 0;
            overflow: hidden;
        }

        .nav-demo-item {
            padding: 0.6rem 1.2rem;
            font-weight: 600;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        @media (max-width: 600px) {
            .slide {
                padding: 1rem;
            }

            .navigation {
                padding: 0.5rem;
            }

            .nav-btn {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="progress-bar">
        <div class="progress" id="progress"></div>
    </div>

    <div class="slideshow-container">

        <!-- Slide 1: Title -->
        <div class="slide active">
            <div class="slide-content centered" style="text-align: center;">
                <h1>Lesson 10: Box Model, Positioning, and Flexbox</h1>
                <p style="font-size: clamp(1.2rem, 3vw, 1.8rem); opacity: 0.9;">Understanding CSS Layout Fundamentals</p>
                <div style="margin: 2rem auto; max-width: 350px;">
                    <div class="box-model-layers">
                        <div class="bm-margin">
                            <div class="bm-label">margin</div>
                            <div class="bm-border">
                                <div class="bm-label">border</div>
                                <div class="bm-padding">
                                    <div class="bm-label">padding</div>
                                    <div class="bm-content">Content</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <p style="opacity: 0.7;">Use arrow keys, buttons, or swipe to navigate</p>
            </div>
        </div>

        <!-- Slide 2: What You'll Learn -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>What You'll Learn in This Lesson</h2>
                <div class="two-column">
                    <div>
                        <h3>Core Concepts</h3>
                        <ul>
                            <li>How to conceptualize the <strong>CSS box model</strong></li>
                            <li>How to change the box model with <code>box-sizing</code></li>
                            <li>How to <strong>position</strong> your elements</li>
                            <li>How to control element <strong>stacking</strong> with <code>z-index</code></li>
                        </ul>
                    </div>
                    <div>
                        <h3>Modern Layout</h3>
                        <ul>
                            <li>How to create flexible layouts with <strong>Flexbox</strong></li>
                            <li>How to use modern <strong>alignment</strong> techniques</li>
                            <li>When to use Flexbox vs positioning</li>
                            <li>Common layout patterns and pitfalls</li>
                        </ul>
                    </div>
                </div>
                <div class="note" style="margin-top: 1rem;">
                    <strong>Why this matters:</strong> Understanding the box model is essential to avoid layout surprises. If elements seem "off" or don't line up, the box model is almost always the reason.
                </div>
            </div>
        </div>

        <!-- Slide 3: The CSS Box Model -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>The CSS Box Model</h2>
                <p>Every HTML element is a <strong>rectangular box</strong> with four layers, whether visible or not:</p>
                <div class="two-column">
                    <div>
                        <div class="image-container">
                            <img src="assets/fig-10.1.jpg" alt="Diagram of the CSS box model showing margin, border, padding, and content layers">
                        </div>
                        <p style="font-size: 0.85rem; text-align: center;"><strong>Figure 10.1</strong> — The CSS box model</p>
                    </div>
                    <div>
                        <h3>From Outside In:</h3>
                        <ul>
                            <li><strong>Margin</strong> — Space outside the element (always transparent)</li>
                            <li><strong>Border</strong> — Surrounds the padding; can be styled with width, style, and color</li>
                            <li><strong>Padding</strong> — Space inside the element; inherits the background color</li>
                            <li><strong>Content</strong> — The actual text, images, or child elements</li>
                        </ul>
                        <div class="highlight">
                            These layers are <strong>always present</strong> on every element, even when you don't explicitly set them.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Box Model Size Calculation -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>Box Model: How Size Is Calculated</h2>
                <p>In the <strong>default box model</strong>, the rendered size includes all layers:</p>
                <div class="two-column">
                    <div>
                        <h3>A Simple div</h3>
                        <pre><code>div {
  width: 250px;
  height: 100px;
  background-color: #E74C3C;
  border: 1px solid #000;
}</code></pre>
                        <div class="image-container">
                            <img src="assets/fig-10.2.jpg" alt="A simple red div element" style="max-height: 25vh;">
                        </div>
                        <p style="font-size: 0.85rem; text-align: center;"><strong>Figure 10.2</strong> — A simple div</p>
                    </div>
                    <div>
                        <h3>Same div + margin + padding</h3>
                        <pre><code>div#d2 {
  width: 250px;
  height: 100px;
  background-color: #E74C3C;
  border: 5px solid #000;
  margin: 10px;
  padding: 10px;
}</code></pre>
                        <div class="image-container">
                            <img src="assets/fig-10.3.jpg" alt="Two divs showing box model size difference" style="max-height: 25vh;">
                        </div>
                        <p style="font-size: 0.85rem; text-align: center;"><strong>Figure 10.3</strong> — Padding and border add to the size</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Box Model Math -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>Box Model Math</h2>
                <p>The <strong>actual space</strong> an element takes up on the page:</p>
                <div class="two-column">
                    <div>
                        <h3>Total Width</h3>
                        <pre><code>width
+ padding-left + padding-right
+ border-left  + border-right
+ margin-left  + margin-right</code></pre>
                        <h3>Total Height</h3>
                        <pre><code>height
+ padding-top    + padding-bottom
+ border-top     + border-bottom
+ margin-top     + margin-bottom</code></pre>
                    </div>
                    <div>
                        <h3>Example Calculation</h3>
                        <p>For the second div on the previous slide:</p>
                        <pre><code>Width:  250 + 10 + 10 + 5 + 5 + 10 + 10
      = 300px actual width

Height: 100 + 10 + 10 + 5 + 5 + 10 + 10
      = 150px actual height</code></pre>
                        <div class="caution">
                            <strong>The trap:</strong> You set <code>width: 250px</code> but the element takes up <strong>300px</strong> of horizontal space!
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Interactive Box Model Demo -->
        <div class="slide">
            <div class="slide-content">
                <h2>Box Model Playground</h2>
                <p>Adjust the values to see how they affect the total rendered size:</p>
                <div class="playground">
                    <div class="controls">
                        <div class="control-group">
                            <label>Content Width</label>
                            <input type="range" id="bmWidth" min="80" max="250" value="150" oninput="updateBoxModelDemo()">
                            <div class="control-value"><span id="bmWidthVal">150</span>px</div>
                        </div>
                        <div class="control-group">
                            <label>Padding (all sides)</label>
                            <input type="range" id="bmPadding" min="0" max="40" value="10" oninput="updateBoxModelDemo()">
                            <div class="control-value"><span id="bmPaddingVal">10</span>px</div>
                        </div>
                        <div class="control-group">
                            <label>Border Width</label>
                            <input type="range" id="bmBorder" min="0" max="15" value="3" oninput="updateBoxModelDemo()">
                            <div class="control-value"><span id="bmBorderVal">3</span>px</div>
                        </div>
                        <div class="control-group">
                            <label>Margin (all sides)</label>
                            <input type="range" id="bmMargin" min="0" max="40" value="10" oninput="updateBoxModelDemo()">
                            <div class="control-value"><span id="bmMarginVal">10</span>px</div>
                        </div>
                        <div class="control-group">
                            <label>Box Sizing</label>
                            <select id="bmBoxSizing" onchange="updateBoxModelDemo()">
                                <option value="content-box">content-box (default)</option>
                                <option value="border-box">border-box</option>
                            </select>
                        </div>
                    </div>
                    <div style="display:flex; flex-direction:column;">
                        <div class="preview-area" style="align-items: center; flex:1;">
                            <div id="bmDemoMargin" style="background: rgba(243,171,115,0.5); padding: 10px; display: inline-block;">
                                <div style="font-size: 0.7rem; color: #8B4513; font-weight: bold; text-align: center;">margin</div>
                                <div id="bmDemoBorder" style="border: 3px solid #333; display: inline-block;">
                                    <div id="bmDemoPadding" style="background: rgba(129,236,236,0.4); padding: 10px;">
                                        <div style="font-size: 0.65rem; color: #00796b; font-weight: bold; text-align: center;">padding</div>
                                        <div id="bmDemoContent" style="width: 150px; height: 60px; background: #3498db; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.85rem;">
                                            Content
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="margin-top: 0.75rem; font-size: 0.85rem; color: #555; text-align: center;">
                                Total: <strong><span id="bmTotalWidth">0</span> x <span id="bmTotalHeight">0</span>px</strong>
                            </div>
                        </div>
                        <div class="code-output" id="bmCode"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 7: Changing the Box Model -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>Changing the Box Model: <code>box-sizing</code></h2>
                <p>The default box model adds padding and border <em>outside</em> your specified width. <code>box-sizing</code> fixes this:</p>
                <div class="two-column">
                    <div>
                        <h3><code>content-box</code> (default)</h3>
                        <ul>
                            <li>Width/height apply to <strong>content only</strong></li>
                            <li>Padding and border are added <strong>on top</strong></li>
                            <li>Element ends up <strong>larger</strong> than specified</li>
                        </ul>
                        <pre><code>div { width: 250px; padding: 10px; }
/* Actual width: 270px */</code></pre>
                    </div>
                    <div>
                        <h3><code>border-box</code> (intuitive)</h3>
                        <ul>
                            <li>Width/height <strong>include</strong> padding and border</li>
                            <li>Element is exactly the size you specify</li>
                            <li>Content area shrinks to accommodate padding/border</li>
                        </ul>
                        <pre><code>div { width: 250px; padding: 10px;
     box-sizing: border-box; }
/* Actual width: 250px */</code></pre>
                    </div>
                </div>
                <div class="note" style="margin-top: 0.5rem;">
                    <strong>Best practice:</strong> Most developers apply this globally:
                    <code>* { box-sizing: border-box; }</code>
                </div>
            </div>
        </div>

        <!-- Slide 8: box-sizing CodePen -->
        <div class="slide">
            <div class="slide-content">
                <h2>Box Sizing in Action</h2>
                <p>See how <code>border-box</code> makes two 50%-width divs fit side by side. Toggle it on/off!</p>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen 10.1" src="https://codepen.io/mattkearl/embed/WbxYpeg?default-tab=css%2Cresult&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 9: Outline vs Border Demo -->
        <div class="slide">
            <div class="slide-content">
                <h2>Border vs Outline: See the Difference</h2>
                <p>They look similar but behave very differently. Adjust the sliders to compare on <strong>the same element</strong>:</p>
                <div class="playground" style="flex:1;">
                    <div class="controls">
                        <h4 style="color:#e74c3c; margin-top:0;">Border (red)</h4>
                        <div class="control-group">
                            <label>Border Width</label>
                            <input type="range" id="obBorder" min="0" max="20" value="5" oninput="updateOutlineBorderDemo()">
                            <div class="control-value"><span id="obBorderVal">5</span>px — <strong>adds to element size</strong></div>
                        </div>
                        <h4 style="color:#2ecc71;">Outline (green)</h4>
                        <div class="control-group">
                            <label>Outline Width</label>
                            <input type="range" id="obOutline" min="0" max="20" value="5" oninput="updateOutlineBorderDemo()">
                            <div class="control-value"><span id="obOutlineVal">5</span>px — <strong>does NOT change size</strong></div>
                        </div>
                        <div class="control-group">
                            <label>Outline Offset (how far from the edge)</label>
                            <input type="range" id="obOffset" min="-10" max="20" value="3" oninput="updateOutlineBorderDemo()">
                            <div class="control-value"><span id="obOffsetVal">3</span>px</div>
                        </div>
                        <table class="compare-table" style="font-size:0.8rem; margin-top:0.5rem;">
                            <tr><th></th><th style="color:#e74c3c;">Border</th><th style="color:#2ecc71;">Outline</th></tr>
                            <tr><td>Takes up space?</td><td>Yes</td><td><strong>No</strong></td></tr>
                            <tr><td>Affects layout?</td><td>Yes</td><td><strong>No</strong></td></tr>
                            <tr><td>Can be rounded?</td><td>Yes</td><td><strong>No</strong></td></tr>
                            <tr><td>Per-side control?</td><td>Yes</td><td><strong>No</strong></td></tr>
                        </table>
                    </div>
                    <div style="display:flex; flex-direction:column;">
                        <div class="preview-area" style="flex:1; align-items:center; justify-content:center;">
                            <!-- Ruler showing actual element space -->
                            <div style="text-align:center;">
                                <div style="font-size:0.8rem; color:#888; margin-bottom:1rem;">The grey background is the element's <strong>actual space in the layout</strong></div>
                                <div style="display:inline-block; position:relative;">
                                    <!-- Grey background = actual layout space (grows with border) -->
                                    <div id="obLayoutBox" style="display:inline-block; background:#e0e0e0; padding:0;">
                                        <div id="obDemoBox" style="width:180px; height:90px; background:#3498db; color:white; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:1rem; border:5px solid #e74c3c; outline:5px solid #2ecc71; outline-offset:3px;">
                                            Button
                                        </div>
                                    </div>
                                </div>
                                <div style="margin-top:1.5rem; font-size:0.9rem; color:#555;">
                                    Layout size: <strong><span id="obTotalSize">190 x 100</span>px</strong>
                                    <br><span style="font-size:0.8rem; color:#888;">(content + border only — outline is ignored by the browser)</span>
                                </div>
                            </div>
                        </div>
                        <div class="code-output" id="obCode"></div>
                    </div>
                </div>
                <div class="note" style="margin-top:0.5rem;">
                    <strong>When do you see outlines?</strong> The ring that appears when you Tab through links and buttons is an outline. It doesn't shift anything on the page — that's the whole point.
                </div>
            </div>
        </div>

        <!-- Slide 10: Positioning Overview -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>The Whole Scoop on Positioning</h2>
                <p>The <code>position</code> property controls how an element is placed on the page:</p>
                <div class="three-column">
                    <div class="position-card">
                        <h4><code>static</code></h4>
                        <p style="font-size: 0.9rem;">Default. Normal document flow. <code>top</code>/<code>left</code> have no effect.</p>
                    </div>
                    <div class="position-card">
                        <h4><code>relative</code></h4>
                        <p style="font-size: 0.9rem;">Offsets from its <strong>normal position</strong>. Still takes up original space.</p>
                    </div>
                    <div class="position-card">
                        <h4><code>absolute</code></h4>
                        <p style="font-size: 0.9rem;">Positioned relative to nearest <strong>positioned parent</strong>. Removed from flow.</p>
                    </div>
                    <div class="position-card">
                        <h4><code>fixed</code></h4>
                        <p style="font-size: 0.9rem;">Positioned relative to the <strong>browser window</strong>. Stays put on scroll.</p>
                    </div>
                    <div class="position-card">
                        <h4><code>sticky</code></h4>
                        <p style="font-size: 0.9rem;"><strong>Hybrid</strong>: acts relative until a scroll threshold, then acts fixed.</p>
                    </div>
                </div>
                <div class="highlight" style="margin-top: 0.5rem;">
                    Position offsets: <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code> — these work on all types except <code>static</code>.
                </div>
            </div>
        </div>

        <!-- Slide 11: Relative Positioning -->
        <div class="slide">
            <div class="slide-content">
                <h2>Relative Positioning</h2>
                <p>The element stays in the normal flow but can be <strong>nudged</strong> from its original spot. The space it originally occupied is preserved.</p>
                <div style="display:flex; gap:1.5rem; margin-bottom:0.5rem; flex-wrap:wrap;">
                    <div style="flex:1; min-width:250px;">
                        <h3>Element Types</h3>
                        <ul>
                            <li><strong>Block</strong> (<code>&lt;div&gt;</code>, <code>&lt;p&gt;</code>) — full width, new line</li>
                            <li><strong>Inline</strong> (<code>&lt;span&gt;</code>) — flows with text</li>
                            <li><strong>Inline-block</strong> — inline but accepts width/height</li>
                        </ul>
                    </div>
                    <div style="flex:1; min-width:250px;">
                        <pre><code>div {
  position: relative;
  left: 25px;  /* shifts 25px from its normal spot */
}</code></pre>
                    </div>
                </div>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen - 10.10" src="https://codepen.io/mattkearl/embed/azZQWdV?default-tab=css%2Cresult&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 12: Absolute Positioning -->
        <div class="slide">
            <div class="slide-content">
                <h2>Absolute Positioning</h2>
                <p>Placed at <strong>exact coordinates</strong> relative to the nearest positioned parent. Removed from normal flow entirely.</p>
                <div style="display:flex; gap:1.5rem; margin-bottom:0.5rem; flex-wrap:wrap;">
                    <div style="flex:1; min-width:250px;">
                        <ul>
                            <li>Positioned inside nearest ancestor with <code>position: relative</code></li>
                            <li>Can overlap other elements</li>
                            <li><code>left</code>/<code>top</code> take priority over <code>right</code>/<code>bottom</code></li>
                        </ul>
                    </div>
                    <div style="flex:1; min-width:250px;">
                        <pre><code>#d1 { position: absolute; left: 0; top: 0; }
#d2 { position: absolute; left: 50px; top: 30px; }</code></pre>
                    </div>
                </div>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen - 10.12" src="https://codepen.io/mattkearl/embed/myEQmPv?default-tab=css%2Cresult&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 13: Fixed & Sticky Positioning -->
        <div class="slide">
            <div class="slide-content">
                <h2>Fixed &amp; Sticky Positioning</h2>
                <div style="display:flex; gap:2rem; margin-bottom:0.5rem; flex-wrap:wrap;">
                    <div style="flex:1; min-width:250px;">
                        <h3><code>fixed</code></h3>
                        <ul>
                            <li>Positioned relative to the <strong>browser window</strong></li>
                            <li>Stays in place as the page scrolls</li>
                            <li>Uses: sticky headers, floating buttons</li>
                        </ul>
                    </div>
                    <div style="flex:1; min-width:250px;">
                        <h3><code>sticky</code></h3>
                        <ul>
                            <li>Acts <strong>relative</strong> until you scroll past a threshold</li>
                            <li>Then acts <strong>fixed</strong> until its container ends</li>
                        </ul>
                        <pre><code>.header { position: sticky; top: 0; }</code></pre>
                    </div>
                </div>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen - 10.2" src="https://codepen.io/mattkearl/embed/wBWQJaX?default-tab=css%2Cresult&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 14: Z-Index -->
        <div class="slide">
            <div class="slide-content">
                <h2>Controlling Stacking: <code>z-index</code></h2>
                <p>When elements overlap, <code>z-index</code> controls which appears on top — like <strong>layers in Photoshop</strong>:</p>
                <div style="display:flex; gap:1.5rem; margin-bottom:0.5rem; flex-wrap:wrap;">
                    <div style="flex:1; min-width:250px;">
                        <ul>
                            <li>Higher <code>z-index</code> = closer to viewer (on top)</li>
                            <li>Default is <code>0</code>; can be negative</li>
                            <li>Only works on <strong>positioned</strong> elements (not <code>static</code>)</li>
                        </ul>
                    </div>
                    <div style="flex:1; min-width:250px;">
                        <pre><code>#box1 { z-index: 1; }  /* behind */
#box2 { z-index: 10; } /* on top */
#box3 { z-index: 5; }  /* middle */</code></pre>
                    </div>
                </div>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen 10.13" src="https://codepen.io/mattkearl/embed/jErQmVq?default-tab=css%2Cresult&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 15: Z-Index with Images -->
        <div class="slide">
            <div class="slide-content">
                <h2>Z-Index with Real Content</h2>
                <p>Z-index works on any positioned HTML content — images, text, entire sections. Try adjusting the values!</p>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Untitled" src="https://codepen.io/mattkearl/embed/yyJQMYr?default-tab=result&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 16: Interactive Positioning Demo -->
        <div class="slide">
            <div class="slide-content">
                <h2>Positioning Playground</h2>
                <p>Click each position type, toggle offsets on/off, and <strong>scroll the grey area</strong> to see fixed &amp; sticky in action:</p>
                <div class="playground" style="flex:1;">
                    <div class="controls">
                        <div class="control-group">
                            <label>Position Type</label>
                            <div class="demo-btn-group" id="posBtnGroup">
                                <button class="demo-btn active" onclick="setPosType('static')">static</button>
                                <button class="demo-btn" onclick="setPosType('relative')">relative</button>
                                <button class="demo-btn" onclick="setPosType('absolute')">absolute</button>
                                <button class="demo-btn" onclick="setPosType('fixed')">fixed</button>
                                <button class="demo-btn" onclick="setPosType('sticky')">sticky</button>
                            </div>
                        </div>
                        <div class="control-group">
                            <label style="display:flex; align-items:center; gap:0.5rem;">
                                <input type="checkbox" id="posTopEnabled" checked onchange="updatePosDemo()" style="width:auto; margin:0;">
                                top <span style="font-size:0.75rem; color:#ffeaa7;">(uncheck to remove)</span>
                            </label>
                            <input type="range" id="posTop" min="-50" max="150" value="20" oninput="updatePosDemo()">
                            <div class="control-value"><span id="posTopVal">20</span>px</div>
                        </div>
                        <div class="control-group">
                            <label style="display:flex; align-items:center; gap:0.5rem;">
                                <input type="checkbox" id="posLeftEnabled" checked onchange="updatePosDemo()" style="width:auto; margin:0;">
                                left <span style="font-size:0.75rem; color:#ffeaa7;">(uncheck to remove)</span>
                            </label>
                            <input type="range" id="posLeft" min="-50" max="300" value="20" oninput="updatePosDemo()">
                            <div class="control-value"><span id="posLeftVal">20</span>px</div>
                        </div>
                        <div id="posExplanation" style="background:rgba(0,0,0,0.2); padding:0.75rem; border-radius:8px; margin-top:0.5rem; font-size:0.85rem; line-height:1.4;">
                            <strong>static:</strong> Default. The element flows normally. top/left have <strong>no effect</strong>.
                        </div>
                        <div class="code-output" id="posCode" style="margin-top:0.5rem;"></div>
                    </div>
                    <div class="pos-demo-container" id="posDemoContainer" style="overflow:auto; max-height:400px;">
                        <!-- Parent label for absolute/relative context -->
                        <div id="posParentLabel" style="display:none; position:absolute; top:4px; right:8px; font-size:0.7rem; color:#888; background:rgba(255,255,255,0.8); padding:2px 6px; border-radius:3px; z-index:20; border:1px dashed #999;">
                            Parent: position: relative
                        </div>
                        <div style="padding:10px;">
                            <div style="background:#ddd; color:#555; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 1 (normal flow)</div>
                            <div style="background:#ddd; color:#555; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 2 (normal flow)</div>
                            <div id="posDemoGhost" style="background:rgba(231,76,60,0.15); border:2px dashed #e74c3c; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.75rem; color:#e74c3c; display:none;">Original spot</div>
                            <div id="posDemoTarget" class="pos-demo-box" style="background:#e74c3c; position:static; z-index:10; margin-bottom:8px;">Target Element</div>
                            <div style="background:#ddd; color:#555; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 3 (normal flow)</div>
                            <div style="background:#ddd; color:#555; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 4 (normal flow)</div>
                            <!-- Extra blocks to enable scrolling for fixed/sticky demo -->
                            <div style="background:#eee; color:#999; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 5 — scroll down to test sticky/fixed</div>
                            <div style="background:#eee; color:#999; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 6</div>
                            <div style="background:#eee; color:#999; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 7</div>
                            <div style="background:#eee; color:#999; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 8</div>
                            <div style="background:#eee; color:#999; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 9</div>
                            <div style="background:#eee; color:#999; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 10</div>
                            <div style="background:#eee; color:#999; padding:8px 12px; margin-bottom:8px; border-radius:4px; font-size:0.8rem;">Block 11</div>
                            <div style="background:#eee; color:#999; padding:8px 12px; border-radius:4px; font-size:0.8rem;">Block 12 (bottom)</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 17: Why Flexbox? -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>Why Flexbox?</h2>
                <p>Before Flexbox, common layout tasks required awkward workarounds. Flexbox makes them simple:</p>
                <div class="three-column" style="margin-top:0.5rem;">
                    <div class="position-card" style="text-align:center;">
                        <h4 style="color:#ffeaa7;">Centering Things</h4>
                        <p style="font-size:0.85rem;">Want to center a login form on the page? Before Flexbox, you needed hacks like <code>position: absolute; top: 50%; transform: translateY(-50%)</code>.</p>
                        <div style="background:rgba(0,0,0,0.2); padding:0.5rem; border-radius:6px; margin-top:0.5rem;">
                            <div style="font-size:0.85rem; color:#2ecc71; font-weight:bold;">Now: <code style="color:#2ecc71;">align-items: center;</code></div>
                        </div>
                    </div>
                    <div class="position-card" style="text-align:center;">
                        <h4 style="color:#ffeaa7;">Equal Height Columns</h4>
                        <p style="font-size:0.85rem;">Have 3 cards in a row, each with different amounts of text? They'd all be different heights. No clean fix existed.</p>
                        <div style="background:rgba(0,0,0,0.2); padding:0.5rem; border-radius:6px; margin-top:0.5rem; display:flex; gap:4px; justify-content:center;">
                            <div style="background:#3498db; width:35px; height:50px; border-radius:3px;"></div>
                            <div style="background:#3498db; width:35px; height:50px; border-radius:3px;"></div>
                            <div style="background:#3498db; width:35px; height:50px; border-radius:3px;"></div>
                        </div>
                        <p style="font-size:0.8rem; margin-top:0.3rem;">Flexbox stretches them to match</p>
                    </div>
                    <div class="position-card" style="text-align:center;">
                        <h4 style="color:#ffeaa7;">Navigation Layouts</h4>
                        <p style="font-size:0.85rem;">Logo on the left, links on the right, everything vertically centered? That used to take floats, clearfixes, and careful math.</p>
                        <div style="background:rgba(0,0,0,0.2); padding:0.5rem; border-radius:6px; margin-top:0.5rem;">
                            <div style="font-size:0.85rem; color:#2ecc71; font-weight:bold;">Now: <code style="color:#2ecc71;">justify-content: space-between;</code></div>
                        </div>
                    </div>
                </div>
                <div style="display:flex; gap:2rem; margin-top:0.75rem; flex-wrap:wrap;">
                    <div style="flex:1; min-width:300px;">
                        <h3>Getting Started</h3>
                        <pre><code>.container {
  display: flex;  /* children become flex items */
}</code></pre>
                        <p style="font-size:0.9rem;">That single line activates Flexbox. Every direct child of the container becomes a <strong>flex item</strong> that you can align, space, grow, and shrink.</p>
                    </div>
                    <div style="flex:1; min-width:300px;">
                        <div class="caution">
                            <strong>Flexbox = one direction at a time.</strong> It lays items out in a row <em>or</em> a column — not both. For two-dimensional layouts (rows AND columns at once), you'll learn CSS Grid in Lesson 12.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 18: Main Axis & Cross Axis (Nav demo) -->
        <div class="slide">
            <div class="slide-content">
                <h2>Main Axis &amp; Cross Axis</h2>
                <p>Every flex container has two axes. <code>flex-direction</code> decides which is which. Try switching between a <strong>horizontal nav bar</strong> and a <strong>vertical sidebar menu</strong>:</p>
                <div style="display:flex; gap:1.5rem; margin-bottom:0.5rem; flex-wrap:wrap; align-items:center;">
                    <div style="flex:1; min-width:280px;">
                        <div class="demo-btn-group" id="axisBtnGroup">
                            <button class="demo-btn active" onclick="setAxisDirection('row')">row (navbar)</button>
                            <button class="demo-btn" onclick="setAxisDirection('column')">column (sidebar)</button>
                            <button class="demo-btn" onclick="setAxisDirection('row-reverse')">row-reverse</button>
                            <button class="demo-btn" onclick="setAxisDirection('column-reverse')">column-reverse</button>
                        </div>
                    </div>
                    <div style="flex:1; min-width:280px;">
                        <div class="highlight" style="margin:0;">
                            <code>justify-content</code> = distributes along <strong>main</strong> axis<br>
                            <code>align-items</code> = aligns along <strong>cross</strong> axis
                        </div>
                    </div>
                </div>
                <div class="flex-demo-area" id="axisDemo" style="flex:1; display:flex; flex-direction:row; gap:0; padding:0; background:#2c3e50; align-items:center;">
                    <div class="nav-demo-item" style="background:#34495e; color:#ecf0f1;">Home</div>
                    <div class="nav-demo-item" style="background:#34495e; color:#ecf0f1;">About</div>
                    <div class="nav-demo-item" style="background:#34495e; color:#ecf0f1;">Projects</div>
                    <div class="nav-demo-item" style="background:#2980b9; color:white;">Contact</div>
                </div>
                <div class="code-output" id="axisCode">.nav { display: flex; flex-direction: row; }</div>
            </div>
        </div>

        <!-- Slide 19: flex-wrap & gap (Tags demo) -->
        <div class="slide">
            <div class="slide-content">
                <h2>Flex Wrapping &amp; Gap</h2>
                <p>When items don't fit on one line, <code>flex-wrap</code> lets them flow to the next row — like skill tags on a profile:</p>
                <div style="display:flex; gap:2rem; flex-wrap:wrap; margin-bottom:0.5rem;">
                    <div style="flex:1; min-width:280px;">
                        <pre><code>.tags {
  display: flex;
  flex-wrap: wrap;  /* allow wrapping */
  gap: 8px;         /* space between tags */
}</code></pre>
                    </div>
                    <div style="flex:1; min-width:280px;">
                        <span style="font-size:0.9rem; margin-right:0.5rem;">Wrap:</span>
                        <div class="demo-btn-group" style="display:inline-flex;" id="wrapBtnGroup">
                            <button class="demo-btn active" onclick="setWrapMode('nowrap')">nowrap</button>
                            <button class="demo-btn" onclick="setWrapMode('wrap')">wrap</button>
                        </div>
                        <span style="font-size:0.9rem; margin:0 0.5rem;">Gap:</span>
                        <div class="demo-btn-group" style="display:inline-flex;" id="gapBtnGroup">
                            <button class="demo-btn" onclick="setWrapGap('0px')">0</button>
                            <button class="demo-btn active" onclick="setWrapGap('8px')">8px</button>
                            <button class="demo-btn" onclick="setWrapGap('16px')">16px</button>
                        </div>
                    </div>
                </div>
                <div class="flex-demo-area" id="wrapDemo" style="flex:1; display:flex; flex-wrap:nowrap; gap:8px; padding:1rem; align-items:flex-start; align-content:flex-start;">
                    <div class="flex-demo-item" style="background:#e74c3c; border-radius:20px; padding:0.4rem 1rem; font-size:0.85rem;">HTML</div>
                    <div class="flex-demo-item" style="background:#3498db; border-radius:20px; padding:0.4rem 1rem; font-size:0.85rem;">CSS</div>
                    <div class="flex-demo-item" style="background:#f39c12; border-radius:20px; padding:0.4rem 1rem; font-size:0.85rem;">JavaScript</div>
                    <div class="flex-demo-item" style="background:#2ecc71; border-radius:20px; padding:0.4rem 1rem; font-size:0.85rem;">React</div>
                    <div class="flex-demo-item" style="background:#9b59b6; border-radius:20px; padding:0.4rem 1rem; font-size:0.85rem;">Node.js</div>
                    <div class="flex-demo-item" style="background:#1abc9c; border-radius:20px; padding:0.4rem 1rem; font-size:0.85rem;">Python</div>
                    <div class="flex-demo-item" style="background:#e67e22; border-radius:20px; padding:0.4rem 1rem; font-size:0.85rem;">Git</div>
                    <div class="flex-demo-item" style="background:#34495e; border-radius:20px; padding:0.4rem 1rem; font-size:0.85rem;">SQL</div>
                </div>
                <div class="code-output" id="wrapCode">.tags { display: flex; flex-wrap: nowrap; gap: 8px; }</div>
            </div>
        </div>

        <!-- Slide 20: justify-content (Nav bar demo) -->
        <div class="slide">
            <div class="slide-content">
                <h2><code>justify-content</code> — Distributing Items</h2>
                <p>Imagine building a navigation bar. <code>justify-content</code> controls where the links end up along the main axis:</p>
                <div class="demo-btn-group" id="justifyBtnGroup">
                    <button class="demo-btn active" onclick="setJustify('flex-start')">flex-start</button>
                    <button class="demo-btn" onclick="setJustify('flex-end')">flex-end</button>
                    <button class="demo-btn" onclick="setJustify('center')">center</button>
                    <button class="demo-btn" onclick="setJustify('space-between')">space-between</button>
                    <button class="demo-btn" onclick="setJustify('space-around')">space-around</button>
                    <button class="demo-btn" onclick="setJustify('space-evenly')">space-evenly</button>
                </div>
                <div class="flex-demo-area" id="justifyDemo" style="flex:1; display:flex; justify-content:flex-start; gap:0; padding:0; background:#2c3e50; align-items:center;">
                    <div class="nav-demo-item" style="background:transparent; color:#ecf0f1; border-right:1px solid rgba(255,255,255,0.1);">Home</div>
                    <div class="nav-demo-item" style="background:transparent; color:#ecf0f1; border-right:1px solid rgba(255,255,255,0.1);">About</div>
                    <div class="nav-demo-item" style="background:transparent; color:#ecf0f1; border-right:1px solid rgba(255,255,255,0.1);">Blog</div>
                    <div class="nav-demo-item" style="background:transparent; color:#ecf0f1;">Contact</div>
                </div>
                <div class="code-output" id="justifyCode">.nav { display: flex; justify-content: flex-start; }</div>
                <div class="note" style="margin-top:0.5rem;">
                    <strong>Try it:</strong> <code>space-between</code> is the most common for navbars — it pushes the first item left and last item right with equal space in between.
                </div>
            </div>
        </div>

        <!-- Slide 21: justify-content CodePen -->
        <div class="slide">
            <div class="slide-content">
                <h2><code>justify-content</code> in Practice</h2>
                <p>Experiment with all the values in this editable demo:</p>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen - 10.5" src="https://codepen.io/mattkearl/embed/azZQJpN?default-tab=result&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 22: align-items (Header bar demo) -->
        <div class="slide">
            <div class="slide-content">
                <h2><code>align-items</code> — Cross-Axis Alignment</h2>
                <p>Think of a website header: you have a tall logo, medium nav links, and a small login button. <code>align-items</code> controls how they line up <strong>vertically</strong>:</p>
                <div class="demo-btn-group" id="alignBtnGroup">
                    <button class="demo-btn active" onclick="setAlignItems('stretch')">stretch</button>
                    <button class="demo-btn" onclick="setAlignItems('flex-start')">flex-start (top)</button>
                    <button class="demo-btn" onclick="setAlignItems('flex-end')">flex-end (bottom)</button>
                    <button class="demo-btn" onclick="setAlignItems('center')">center</button>
                </div>
                <div class="flex-demo-area" id="alignDemo" style="flex:1; display:flex; align-items:stretch; gap:12px; padding:1rem; background:#ecf0f1;">
                    <div style="background:#2c3e50; color:white; padding:1.5rem 2rem; border-radius:6px; font-weight:bold; font-size:1.5rem; display:flex; align-items:center; transition:all 0.3s;">MySite</div>
                    <div style="background:#34495e; color:#ecf0f1; padding:0.8rem 1.2rem; border-radius:6px; font-size:0.9rem; display:flex; align-items:center; transition:all 0.3s;">Home</div>
                    <div style="background:#34495e; color:#ecf0f1; padding:0.8rem 1.2rem; border-radius:6px; font-size:0.9rem; display:flex; align-items:center; transition:all 0.3s;">About</div>
                    <div style="background:#3498db; color:white; padding:0.5rem 1rem; border-radius:6px; font-size:0.8rem; display:flex; align-items:center; transition:all 0.3s;">Log In</div>
                </div>
                <div class="code-output" id="alignCode">.header { display: flex; align-items: stretch; }</div>
                <div class="note" style="margin-top:0.5rem;">
                    <strong>align-content</strong> is similar but only matters when items wrap to <strong>multiple lines</strong> — it aligns the lines themselves.
                </div>
            </div>
        </div>

        <!-- Slide 23: Flex Item Properties (Page layout demo) -->
        <div class="slide">
            <div class="slide-content">
                <h2>Flex Item Properties: grow, shrink, basis</h2>
                <p>These three properties control how each item claims space inside a flex container. Use the sliders to see them in action:</p>
                <div class="playground" style="flex:1;">
                    <div class="controls" style="overflow-y:auto;">
                        <div style="background:rgba(0,0,0,0.2); padding:0.6rem; border-radius:6px; margin-bottom:0.75rem; font-size:0.8rem; line-height:1.5;">
                            <strong style="color:#ffeaa7;">flex-grow</strong> — How much <em>leftover</em> space this item should absorb. 0 means "don't grow." If two items have grow 1, they split extra space equally.<br>
                            <strong style="color:#ffeaa7;">flex-shrink</strong> — How much the item should shrink if there isn't enough room. 1 (default) means "shrink equally." 0 means "never shrink."<br>
                            <strong style="color:#ffeaa7;">flex-basis</strong> — The item's <em>starting size</em> before grow/shrink kicks in. Think of it as the "ideal width." The browser adds or removes space from here.
                        </div>
                        <h4 style="color:#e74c3c; margin-top:0;">Sidebar (red)</h4>
                        <div class="control-group">
                            <label>flex-grow — <span id="fgAVal">0</span></label>
                            <input type="range" id="fgA" min="0" max="5" value="0" oninput="updateFlexItemsDemo()">
                        </div>
                        <div class="control-group">
                            <label>flex-basis — <span id="fbAVal">120</span>px</label>
                            <input type="range" id="fbA" min="0" max="300" value="120" oninput="updateFlexItemsDemo()">
                        </div>
                        <h4 style="color:#3498db;">Main Content (blue)</h4>
                        <div class="control-group">
                            <label>flex-grow — <span id="fgBVal">1</span></label>
                            <input type="range" id="fgB" min="0" max="5" value="1" oninput="updateFlexItemsDemo()">
                        </div>
                        <div class="control-group">
                            <label>flex-basis — <span id="fbBVal">200</span>px</label>
                            <input type="range" id="fbB" min="0" max="300" value="200" oninput="updateFlexItemsDemo()">
                        </div>
                        <h4 style="color:#2ecc71;">Ad Panel (green)</h4>
                        <div class="control-group">
                            <label>flex-grow — <span id="fgCVal">0</span></label>
                            <input type="range" id="fgC" min="0" max="5" value="0" oninput="updateFlexItemsDemo()">
                        </div>
                        <div class="control-group">
                            <label>flex-basis — <span id="fbCVal">100</span>px</label>
                            <input type="range" id="fbC" min="0" max="300" value="100" oninput="updateFlexItemsDemo()">
                        </div>
                    </div>
                    <div style="display:flex; flex-direction:column;">
                        <div class="flex-demo-area" id="flexItemsDemo" style="flex:1; display:flex; gap:8px; padding:0.75rem; align-items:stretch;">
                            <div id="flexItemA" class="flex-demo-item" style="background:#e74c3c; flex:0 1 120px; display:flex; align-items:center; justify-content:center; font-size:0.8rem;">Sidebar</div>
                            <div id="flexItemB" class="flex-demo-item" style="background:#3498db; flex:1 1 200px; display:flex; align-items:center; justify-content:center; font-size:0.8rem;">Main Content</div>
                            <div id="flexItemC" class="flex-demo-item" style="background:#2ecc71; flex:0 1 100px; display:flex; align-items:center; justify-content:center; font-size:0.8rem;">Ad Panel</div>
                        </div>
                        <div class="code-output" id="flexItemsCode"></div>
                        <div id="flexItemsExplanation" style="background:rgba(0,0,0,0.2); padding:0.6rem; border-radius:6px; margin-top:0.5rem; font-size:0.8rem; line-height:1.4; color:#ddd;"></div>
                        <div class="highlight" style="margin-top:0.5rem; font-size:0.85rem;">
                            <strong>Try:</strong> Set Main Content grow to <strong>1</strong> and the others to <strong>0</strong>. The main area absorbs all leftover space — a classic page layout!
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 24: Flex shorthand & CodePen -->
        <div class="slide">
            <div class="slide-content">
                <h2>The <code>flex</code> Shorthand</h2>
                <div style="display:flex; gap:2rem; flex-wrap:wrap; margin-bottom:0.5rem;">
                    <div style="flex:1; min-width:280px;">
                        <pre><code>flex: &lt;grow&gt; &lt;shrink&gt; &lt;basis&gt;;

flex: 0 1 auto; /* default */
flex: 1;        /* grow equally (basis: 0) */
flex: auto;     /* grow equally (basis: auto) */
flex: 0 0 200px;/* fixed 200px, no grow/shrink */</code></pre>
                    </div>
                    <div style="flex:1; min-width:280px;">
                        <div class="highlight">
                            <strong>Most common:</strong> <code>flex: 1;</code> makes items share space equally. It's shorthand for <code>flex: 1 1 0</code>.
                        </div>
                    </div>
                </div>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen - 10.6" src="https://codepen.io/mattkearl/embed/LEZXWWW?default-tab=result&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 25: order & align-self (Mobile reorder demo) -->
        <div class="slide">
            <div class="slide-content">
                <h2>Order &amp; Individual Alignment</h2>
                <p>Imagine a header with Logo, Search, and Nav. On mobile, you might want to reorder them visually without changing your HTML:</p>
                <div style="display:flex; gap:2rem; flex-wrap:wrap; margin-bottom:0.5rem;">
                    <div style="flex:1; min-width:280px;">
                        <h3><code>order</code> — visual reordering</h3>
                        <div class="demo-btn-group" id="orderBtnGroup">
                            <button class="demo-btn active" onclick="setOrderMode('normal')">Desktop (Logo, Nav, Search)</button>
                            <button class="demo-btn" onclick="setOrderMode('mobile')">Mobile (Logo, Search, Nav)</button>
                        </div>
                    </div>
                    <div style="flex:1; min-width:280px;">
                        <h3><code>align-self</code> — one item different</h3>
                        <p style="font-size:0.9rem;">Override alignment for the Search bar only:</p>
                        <div class="demo-btn-group" id="alignSelfBtnGroup">
                            <button class="demo-btn active" onclick="setAlignSelf('auto')">auto</button>
                            <button class="demo-btn" onclick="setAlignSelf('flex-start')">flex-start</button>
                            <button class="demo-btn" onclick="setAlignSelf('center')">center</button>
                            <button class="demo-btn" onclick="setAlignSelf('flex-end')">flex-end</button>
                        </div>
                    </div>
                </div>
                <div class="flex-demo-area" id="orderDemo" style="flex:1; display:flex; align-items:stretch; gap:10px; padding:1rem; background:#ecf0f1;">
                    <div id="orderItem1" style="background:#2c3e50; color:white; padding:1rem 1.5rem; border-radius:6px; font-weight:bold; font-size:1.2rem; display:flex; align-items:center; justify-content:center; transition:all 0.3s;">Logo</div>
                    <div id="orderItem2" style="background:#3498db; color:white; padding:0.6rem 1.5rem; border-radius:6px; font-size:0.85rem; flex:1; display:flex; align-items:center; justify-content:center; transition:all 0.3s;">Navigation Links</div>
                    <div id="orderItem3" style="background:#95a5a6; color:white; padding:0.6rem 1.5rem; border-radius:20px; font-size:0.85rem; display:flex; align-items:center; justify-content:center; transition:all 0.3s;">Search...</div>
                </div>
                <div class="code-output" id="orderCode">/* Desktop order: Logo (1), Nav (2), Search (3) */</div>
                <div class="caution" style="margin-top:0.5rem; font-size:0.9rem;">
                    <strong>Accessibility warning:</strong> <code>order</code> only changes what you <em>see</em>. Screen readers and the Tab key still follow the HTML source order.
                </div>
            </div>
        </div>

        <!-- Slide 26: Practical Flexbox Patterns -->
        <div class="slide">
            <div class="slide-content">
                <h2>Practical Flexbox Patterns</h2>
                <div style="display:flex; gap:1.5rem; flex-wrap:wrap; margin-bottom:0.5rem;">
                    <div style="flex:1; min-width:250px;">
                        <h3>Navigation Bar</h3>
                        <pre><code>.nav {
  display: flex;
  gap: 2rem;
  padding: 1rem;
}</code></pre>
                        <h3>Perfect Centering</h3>
                        <pre><code>.center {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}</code></pre>
                    </div>
                    <div style="flex:1; min-width:250px;">
                        <h3>Equal-Height Cards</h3>
                        <pre><code>.cards { display: flex; gap: 1rem; }
.card { flex: 1; }</code></pre>
                        <h3>Sticky Footer</h3>
                        <pre><code>body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}
main { flex: 1; }</code></pre>
                    </div>
                </div>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen - 10.7" src="https://codepen.io/mattkearl/embed/emzQvRm?default-tab=result&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 27: Responsive Patterns -->
        <div class="slide">
            <div class="slide-content">
                <h2>Responsive Patterns with Flexbox</h2>
                <p>Create responsive layouts <strong>without media queries</strong> using <code>flex-wrap</code> + <code>flex-basis</code>:</p>
                <div style="display:flex; gap:1.5rem; margin-bottom:0.5rem; flex-wrap:wrap;">
                    <div style="flex:1; min-width:300px;">
                        <pre><code>.grid {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}
.grid > * {
  flex: 1 1 300px;  /* min 300px, grows to fill */
}</code></pre>
                    </div>
                    <div style="flex:1; min-width:300px;">
                        <ul>
                            <li>Items try to be at least 300px wide</li>
                            <li>They grow to fill available space</li>
                            <li>They wrap when they don't fit — no media queries needed!</li>
                        </ul>
                    </div>
                </div>
                <div class="codepen-container" style="flex:1;">
                    <iframe title="Codepen 10.8" src="https://codepen.io/mattkearl/embed/qENQrXr?default-tab=result&editable=true" loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <!-- Slide 28: Common Pitfalls -->
        <div class="slide">
            <div class="slide-content" style="overflow-y:auto;">
                <h2>Common Flexbox Pitfalls (and How to Fix Them)</h2>
                <p>Flexbox is powerful, but it has a few surprises. Here are the top issues you'll run into:</p>
                <div style="display:flex; flex-direction:column; gap:0.75rem; flex:1;">
                    <div style="display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
                        <div style="background:rgba(0,0,0,0.2); padding:0.75rem; border-radius:8px;">
                            <h3 style="margin-top:0;">1. Don't use <code>width: 50%</code> inside flex</h3>
                            <p style="font-size:0.9rem;"><strong>The problem:</strong> You want two items side by side at 50% each, so you write <code>width: 50%</code>. But flex items don't always respect <code>width</code> the way you'd expect — they can still grow or shrink.</p>
                            <p style="font-size:0.9rem;"><strong>The fix:</strong> Use <code>flex</code> instead. It gives you full control:</p>
                            <pre><code>/* This says: don't grow, don't shrink, start at 50% */
.item { flex: 0 0 50%; }</code></pre>
                        </div>
                        <div style="background:rgba(0,0,0,0.2); padding:0.75rem; border-radius:8px;">
                            <h3 style="margin-top:0;">2. Content overflows its flex item</h3>
                            <p style="font-size:0.9rem;"><strong>The problem:</strong> A long word or URL refuses to shrink and breaks out of its container. This happens because flex items have <code>min-width: auto</code> by default, which means "never get smaller than my content."</p>
                            <p style="font-size:0.9rem;"><strong>The fix:</strong> Tell the item it's OK to be smaller than its content:</p>
                            <pre><code>.item { min-width: 0; }
/* or: overflow: hidden; */</code></pre>
                        </div>
                    </div>
                    <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:1rem;">
                        <div style="background:rgba(0,0,0,0.2); padding:0.75rem; border-radius:8px;">
                            <h3 style="margin-top:0;">3. Margins don't collapse</h3>
                            <p style="font-size:0.9rem;">In normal CSS, if two elements each have <code>margin: 20px</code>, the gap between them is 20px (they overlap). Inside flex, margins <strong>add up</strong> — you'd get 40px. Use <code>gap</code> instead for consistent spacing:</p>
                            <pre><code>.container {
  display: flex;
  gap: 20px;
}</code></pre>
                        </div>
                        <div style="background:rgba(0,0,0,0.2); padding:0.75rem; border-radius:8px;">
                            <h3 style="margin-top:0;">4. <code>margin: auto</code> is magic</h3>
                            <p style="font-size:0.9rem;">Want to push one nav item to the far right? <code>margin-left: auto</code> absorbs all available space before that item. It's like a spring that pushes everything apart:</p>
                            <pre><code>/* Login button → far right */
.login {
  margin-left: auto;
}</code></pre>
                        </div>
                        <div style="background:rgba(0,0,0,0.2); padding:0.75rem; border-radius:8px;">
                            <h3 style="margin-top:0;">5. <code>flex: 1</code> vs <code>flex: auto</code></h3>
                            <p style="font-size:0.9rem;"><code>flex: 1</code> means "ignore my content size, divide space equally." <code>flex: auto</code> means "start from my content size, then grow."</p>
                            <p style="font-size:0.9rem;">Two items with <code>flex: 1</code> → same width. Two items with <code>flex: auto</code> → wider item stays wider.</p>
                        </div>
                    </div>
                    <div class="note" style="font-size:0.9rem;">
                        <strong>Don't worry about memorizing all of this.</strong> These are issues you'll encounter as you build things. Bookmark this slide and come back to it when something behaves unexpectedly!
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 29: When to Use What -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>When to Use What</h2>
                <div class="three-column">
                    <div class="position-card" style="border-left: 4px solid #3498db;">
                        <h3 style="color: #3498db;">Flexbox</h3>
                        <ul style="font-size: 0.9rem;">
                            <li>Navigation menus</li>
                            <li>Cards in a row/column</li>
                            <li>Centering content</li>
                            <li>Equal-height columns</li>
                            <li>Responsive layouts</li>
                            <li>Distributing space</li>
                        </ul>
                    </div>
                    <div class="position-card" style="border-left: 4px solid #e74c3c;">
                        <h3 style="color: #e74c3c;">Positioning</h3>
                        <ul style="font-size: 0.9rem;">
                            <li>Tooltips / popovers</li>
                            <li>Modals / overlays</li>
                            <li>Precise placement</li>
                            <li>Sticky headers</li>
                            <li>Layering with z-index</li>
                            <li>Floating buttons</li>
                        </ul>
                    </div>
                    <div class="position-card" style="border-left: 4px solid #2ecc71;">
                        <h3 style="color: #2ecc71;">CSS Grid (Lesson 12)</h3>
                        <ul style="font-size: 0.9rem;">
                            <li>Full page layouts</li>
                            <li>Rows AND columns</li>
                            <li>Complex 2D layouts</li>
                            <li>Magazine-style layouts</li>
                            <li>Dashboard grids</li>
                            <li>Template areas</li>
                        </ul>
                    </div>
                </div>
                <div class="highlight" style="margin-top: 1rem;">
                    <strong>Rule of thumb:</strong> Start with Flexbox for most things. Reach for positioning when you need overlays. Use Grid when you need rows <em>and</em> columns.
                </div>
            </div>
        </div>

        <!-- Slide 30: Summary -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>Summary: Key Takeaways</h2>
                <div class="two-column">
                    <div>
                        <h3>Box Model</h3>
                        <ul>
                            <li>Every element = content + padding + border + margin</li>
                            <li>Default model adds padding/border <em>outside</em> width</li>
                            <li>Use <code>box-sizing: border-box</code> globally</li>
                            <li>Outlines don't affect layout</li>
                        </ul>
                        <h3>Positioning</h3>
                        <ul>
                            <li><code>static</code> (default), <code>relative</code>, <code>absolute</code>, <code>fixed</code>, <code>sticky</code></li>
                            <li><code>z-index</code> controls stacking order</li>
                            <li>Higher z-index = on top</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Flexbox</h3>
                        <ul>
                            <li><code>display: flex</code> on the container</li>
                            <li>Main axis vs cross axis is key</li>
                            <li><code>justify-content</code> = main axis</li>
                            <li><code>align-items</code> = cross axis</li>
                            <li><code>flex: 1</code> for flexible equal items</li>
                            <li><code>gap</code> for clean spacing</li>
                        </ul>
                        <h3>Resources</h3>
                        <ul>
                            <li><a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="noopener noreferrer">CSS-Tricks: Complete Guide to Flexbox</a></li>
                            <li><a href="https://flexboxfroggy.com/" target="_blank" rel="noopener noreferrer">Flexbox Froggy (Game)</a></li>
                            <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_box_model" target="_blank" rel="noopener noreferrer">MDN: Box Model</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 31: Q&A -->
        <div class="slide">
            <div class="slide-content centered">
                <h2>Common Questions</h2>
                <div class="two-column">
                    <div>
                        <h3>Q: When do I use relative vs absolute positioning?</h3>
                        <p style="font-size: 0.95rem;">Use <strong>relative</strong> for slight nudges from normal position. Use <strong>absolute</strong> when you need pixel-perfect placement inside a container. For most layouts, use Flexbox or Grid instead.</p>

                        <h3>Q: Should I always use <code>border-box</code>?</h3>
                        <p style="font-size: 0.95rem;">Yes, for nearly all projects. It makes sizing intuitive — 250px means 250px. Apply it globally with <code>* { box-sizing: border-box; }</code>.</p>

                        <h3>Q: What if elements overlap without <code>z-index</code>?</h3>
                        <p style="font-size: 0.95rem;">Elements later in the HTML appear on top of earlier ones. Think of the browser painting them in order — the last one painted is on top.</p>
                    </div>
                    <div>
                        <h3>Q: <code>justify-content</code> vs <code>align-items</code>?</h3>
                        <p style="font-size: 0.95rem;"><code>justify-content</code> = main axis (horizontal by default). <code>align-items</code> = cross axis (vertical by default). When <code>flex-direction: column</code>, they swap!</p>

                        <h3>Q: Why doesn't <code>flex: 1</code> respect content width?</h3>
                        <p style="font-size: 0.95rem;"><code>flex: 1</code> is shorthand for <code>flex: 1 1 0</code> — the <code>0</code> basis ignores content size. Use <code>flex: auto</code> (<code>1 1 auto</code>) to respect content.</p>

                        <h3>Q: Can I use Flexbox for full page layouts?</h3>
                        <p style="font-size: 0.95rem;">Yes, but CSS Grid is better for 2D page layouts. Flexbox excels at one-dimensional arrangements (rows or columns).</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="navigation">
        <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">&larr; Previous</button>
        <span class="slide-counter"><span id="currentSlide">1</span> / <span id="totalSlides">31</span></span>
        <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next &rarr;</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        document.getElementById('totalSlides').textContent = totalSlides;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');

            document.getElementById('currentSlide').textContent = currentSlide + 1;
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;

            const progress = ((currentSlide + 1) / totalSlides) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        function changeSlide(direction) {
            showSlide(currentSlide + direction);
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                if (currentSlide < totalSlides - 1) changeSlide(1);
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                if (currentSlide > 0) changeSlide(-1);
            } else if (e.key === 'Home') {
                e.preventDefault();
                showSlide(0);
            } else if (e.key === 'End') {
                e.preventDefault();
                showSlide(totalSlides - 1);
            }
        });

        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        }, false);

        document.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, false);

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;

            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0 && currentSlide < totalSlides - 1) {
                    changeSlide(1);
                } else if (diff < 0 && currentSlide > 0) {
                    changeSlide(-1);
                }
            }
        }

        showSlide(0);

        // ===== Helper: update active button in a group =====
        function setActiveBtn(groupId, matchText) {
            const group = document.getElementById(groupId);
            if (!group) return;
            group.querySelectorAll('.demo-btn').forEach(function(b) {
                b.classList.toggle('active', b.textContent === matchText);
            });
        }

        function setActiveBtnContains(groupId, matchSubstr) {
            const group = document.getElementById(groupId);
            if (!group) return;
            group.querySelectorAll('.demo-btn').forEach(function(b) {
                b.classList.toggle('active', b.textContent.toLowerCase().indexOf(matchSubstr.toLowerCase()) !== -1);
            });
        }

        // ===== Box Model Playground =====
        function updateBoxModelDemo() {
            var width = parseInt(document.getElementById('bmWidth').value);
            var padding = parseInt(document.getElementById('bmPadding').value);
            var border = parseInt(document.getElementById('bmBorder').value);
            var margin = parseInt(document.getElementById('bmMargin').value);
            var boxSizing = document.getElementById('bmBoxSizing').value;

            document.getElementById('bmWidthVal').textContent = width;
            document.getElementById('bmPaddingVal').textContent = padding;
            document.getElementById('bmBorderVal').textContent = border;
            document.getElementById('bmMarginVal').textContent = margin;

            document.getElementById('bmDemoMargin').style.padding = margin + 'px';
            document.getElementById('bmDemoBorder').style.borderWidth = border + 'px';
            document.getElementById('bmDemoPadding').style.padding = padding + 'px';
            document.getElementById('bmDemoContent').style.width = width + 'px';

            var totalWidth, totalHeight;
            var contentHeight = 60;

            if (boxSizing === 'content-box') {
                totalWidth = width + (padding * 2) + (border * 2) + (margin * 2);
                totalHeight = contentHeight + (padding * 2) + (border * 2) + (margin * 2);
            } else {
                totalWidth = width + (margin * 2);
                totalHeight = contentHeight + (margin * 2);
                var innerWidth = Math.max(width - (padding * 2) - (border * 2), 20);
                document.getElementById('bmDemoContent').style.width = innerWidth + 'px';
            }

            document.getElementById('bmTotalWidth').textContent = totalWidth;
            document.getElementById('bmTotalHeight').textContent = totalHeight;

            var code = '.element {\n  width: ' + width + 'px;\n  height: ' + contentHeight + 'px;\n  padding: ' + padding + 'px;\n  border: ' + border + 'px solid #333;\n  margin: ' + margin + 'px;';
            if (boxSizing === 'border-box') {
                code += '\n  box-sizing: border-box;';
            }
            code += '\n}\n/* Total space: ' + totalWidth + 'px x ' + totalHeight + 'px */';
            document.getElementById('bmCode').textContent = code;
        }

        updateBoxModelDemo();

        // ===== Outline vs Border Demo =====
        function updateOutlineBorderDemo() {
            var bw = parseInt(document.getElementById('obBorder').value);
            var ow = parseInt(document.getElementById('obOutline').value);
            var oo = parseInt(document.getElementById('obOffset').value);

            document.getElementById('obBorderVal').textContent = bw;
            document.getElementById('obOutlineVal').textContent = ow;
            document.getElementById('obOffsetVal').textContent = oo;

            var box = document.getElementById('obDemoBox');
            box.style.border = bw + 'px solid #e74c3c';
            box.style.outline = ow + 'px solid #2ecc71';
            box.style.outlineOffset = oo + 'px';

            var totalW = 180 + (bw * 2);
            var totalH = 90 + (bw * 2);
            document.getElementById('obTotalSize').textContent = totalW + ' x ' + totalH;

            var code = '.button {\n  width: 180px;\n  height: 90px;\n\n  /* Border (red) — ADDS to size */\n  border: ' + bw + 'px solid #e74c3c;\n  /* Layout size: ' + totalW + ' x ' + totalH + 'px */\n\n  /* Outline (green) — does NOT change size */\n  outline: ' + ow + 'px solid #2ecc71;\n  outline-offset: ' + oo + 'px;\n}';
            document.getElementById('obCode').textContent = code;
        }

        updateOutlineBorderDemo();

        // ===== Positioning Playground =====
        var currentPosType = 'static';

        function setPosType(type) {
            currentPosType = type;
            setActiveBtn('posBtnGroup', type);
            updatePosDemo();
        }

        function updatePosDemo() {
            var top = parseInt(document.getElementById('posTop').value);
            var left = parseInt(document.getElementById('posLeft').value);
            var topEnabled = document.getElementById('posTopEnabled').checked;
            var leftEnabled = document.getElementById('posLeftEnabled').checked;
            document.getElementById('posTopVal').textContent = top;
            document.getElementById('posLeftVal').textContent = left;

            // Dim disabled sliders
            document.getElementById('posTop').style.opacity = topEnabled ? '1' : '0.3';
            document.getElementById('posLeft').style.opacity = leftEnabled ? '1' : '0.3';

            var target = document.getElementById('posDemoTarget');
            var ghost = document.getElementById('posDemoGhost');
            var container = document.getElementById('posDemoContainer');
            var parentLabel = document.getElementById('posParentLabel');

            target.style.position = currentPosType;

            // Show parent relationship for absolute positioning
            if (currentPosType === 'absolute') {
                container.style.border = '2px dashed #999';
                parentLabel.style.display = 'block';
                parentLabel.innerHTML = 'Parent: <strong>position: relative</strong>';
            } else if (currentPosType === 'relative') {
                container.style.border = '';
                parentLabel.style.display = 'block';
                parentLabel.innerHTML = 'Element moves from its <strong>own normal position</strong>';
            } else {
                container.style.border = '';
                parentLabel.style.display = 'none';
            }

            if (currentPosType === 'static') {
                target.style.top = '';
                target.style.left = '';
                ghost.style.display = 'none';
            } else {
                target.style.top = topEnabled ? top + 'px' : '';
                target.style.left = leftEnabled ? left + 'px' : '';
                ghost.style.display = (currentPosType === 'relative') ? 'block' : 'none';
            }

            // Build explanation based on enabled offsets
            var offsets = [];
            if (topEnabled) offsets.push(top + 'px down');
            if (leftEnabled) offsets.push(left + 'px right');
            var offsetDesc = offsets.length ? offsets.join(' and ') : 'nowhere (no offsets enabled)';

            var explanations = {
                'static': '<strong>static:</strong> Default. The element flows normally in order. The top/left properties have <strong>no effect</strong> — try toggling them on and moving the sliders!',
                'relative': '<strong>relative:</strong> The element is nudged ' + offsetDesc + ' from where it <em>would normally be</em>. Notice the dashed box — that\'s the space it still occupies in the flow.' + (!topEnabled && !leftEnabled ? ' <em>With no offsets, it looks just like static!</em>' : ''),
                'absolute': '<strong>absolute:</strong> The element is yanked out of the flow and placed ' + (offsets.length ? 'at offset ' + offsetDesc : 'at its default position') + ' inside the <strong>nearest positioned parent</strong> (the grey box with the dashed border has <code>position: relative</code>). Other elements act like it doesn\'t exist.' + (!topEnabled && !leftEnabled ? ' <em>Without top/left, it stays where it would have been but is still removed from flow.</em>' : ''),
                'fixed': '<strong>fixed:</strong> Positioned relative to the <strong>browser viewport</strong>. <strong>Scroll the grey area</strong> — notice the element stays put while content moves. In a real page, fixed elements stay visible as the user scrolls (think: sticky headers, floating chat buttons).',
                'sticky': '<strong>sticky:</strong> Acts like relative until you scroll. <strong>Scroll down in the grey area</strong> — the element will "stick" at top: ' + (topEnabled ? top + 'px' : '0 (no top set)') + ' from the container edge. Used for headers that stay visible as you scroll.'
            };
            document.getElementById('posExplanation').innerHTML = explanations[currentPosType] || '';

            // Build code output
            var code = '#target {\n  position: ' + currentPosType + ';';
            if (currentPosType !== 'static') {
                if (topEnabled) code += '\n  top: ' + top + 'px;';
                if (leftEnabled) code += '\n  left: ' + left + 'px;';
                if (!topEnabled && !leftEnabled) code += '\n  /* no offset set — element uses default position */';
            }
            code += '\n}';
            if (currentPosType === 'absolute') {
                code += '\n\n/* The parent container needs: */\n.parent {\n  position: relative;\n}';
            }
            document.getElementById('posCode').textContent = code;
        }

        updatePosDemo();

        // ===== Flex Direction / Axis Demo (Nav) =====
        function setAxisDirection(dir) {
            document.getElementById('axisDemo').style.flexDirection = dir;
            setActiveBtnContains('axisBtnGroup', dir.split(' ')[0]);
            var context = dir.indexOf('column') !== -1 ? 'sidebar' : 'navbar';
            document.getElementById('axisCode').textContent = '.nav { display: flex; flex-direction: ' + dir + '; }\n/* Looks like a ' + context + ' now! */';
        }

        // ===== Wrap Demo (Tags) =====
        function setWrapMode(mode) {
            document.getElementById('wrapDemo').style.flexWrap = mode;
            setActiveBtn('wrapBtnGroup', mode);
            updateWrapCode();
        }

        function setWrapGap(gap) {
            document.getElementById('wrapDemo').style.gap = gap;
            setActiveBtn('gapBtnGroup', gap === '0px' ? '0' : gap);
            updateWrapCode();
        }

        function updateWrapCode() {
            var wrap = document.getElementById('wrapDemo').style.flexWrap;
            var gap = document.getElementById('wrapDemo').style.gap;
            document.getElementById('wrapCode').textContent = '.tags { display: flex; flex-wrap: ' + wrap + '; gap: ' + gap + '; }';
        }

        // ===== Justify Content Demo (Nav bar) =====
        function setJustify(value) {
            document.getElementById('justifyDemo').style.justifyContent = value;
            setActiveBtn('justifyBtnGroup', value);
            document.getElementById('justifyCode').textContent = '.nav { display: flex; justify-content: ' + value + '; }';
        }

        // ===== Align Items Demo (Header bar) =====
        function setAlignItems(value) {
            document.getElementById('alignDemo').style.alignItems = value;
            setActiveBtnContains('alignBtnGroup', value.replace('flex-', ''));
            document.getElementById('alignCode').textContent = '.header { display: flex; align-items: ' + value + '; }';
        }

        // ===== Flex Items Demo (Page layout) =====
        function updateFlexItemsDemo() {
            var gA = document.getElementById('fgA').value;
            var bA = document.getElementById('fbA').value;
            var gB = document.getElementById('fgB').value;
            var bB = document.getElementById('fbB').value;
            var gC = document.getElementById('fgC').value;
            var bC = document.getElementById('fbC').value;

            document.getElementById('fgAVal').textContent = gA;
            document.getElementById('fbAVal').textContent = bA;
            document.getElementById('fgBVal').textContent = gB;
            document.getElementById('fbBVal').textContent = bB;
            document.getElementById('fgCVal').textContent = gC;
            document.getElementById('fbCVal').textContent = bC;

            document.getElementById('flexItemA').style.flex = gA + ' 1 ' + bA + 'px';
            document.getElementById('flexItemB').style.flex = gB + ' 1 ' + bB + 'px';
            document.getElementById('flexItemC').style.flex = gC + ' 1 ' + bC + 'px';

            var code = '.sidebar { flex: ' + gA + ' 1 ' + bA + 'px; }  /* grow: ' + gA + ', shrink: 1, basis: ' + bA + 'px */\n.main    { flex: ' + gB + ' 1 ' + bB + 'px; }  /* grow: ' + gB + ', shrink: 1, basis: ' + bB + 'px */\n.ad      { flex: ' + gC + ' 1 ' + bC + 'px; }  /* grow: ' + gC + ', shrink: 1, basis: ' + bC + 'px */';
            document.getElementById('flexItemsCode').textContent = code;

            // Dynamic explanation
            var totalGrow = parseInt(gA) + parseInt(gB) + parseInt(gC);
            var explanation = '';
            var names = ['Sidebar', 'Main', 'Ad Panel'];
            var grows = [parseInt(gA), parseInt(gB), parseInt(gC)];
            var bases = [parseInt(bA), parseInt(bB), parseInt(bC)];

            explanation += '<strong>What\'s happening:</strong> Each item starts at its basis width (' + bA + 'px + ' + bB + 'px + ' + bC + 'px = ' + (bases[0]+bases[1]+bases[2]) + 'px total). ';
            if (totalGrow === 0) {
                explanation += 'No items have grow set, so the leftover space stays <strong>empty</strong>. The items just sit at their starting sizes.';
            } else {
                var growers = [];
                for (var i = 0; i < 3; i++) {
                    if (grows[i] > 0) growers.push(names[i] + ' (grow: ' + grows[i] + ')');
                }
                explanation += 'The leftover space is divided among: ' + growers.join(', ') + '. ';
                if (totalGrow > 0) {
                    for (var j = 0; j < 3; j++) {
                        if (grows[j] > 0) {
                            var pct = Math.round((grows[j] / totalGrow) * 100);
                            explanation += names[j] + ' gets <strong>' + pct + '%</strong> of the extra space. ';
                        }
                    }
                }
            }
            document.getElementById('flexItemsExplanation').innerHTML = explanation;
        }

        updateFlexItemsDemo();

        // ===== Order & Align-Self Demo (Header reorder) =====
        function setOrderMode(mode) {
            var logo = document.getElementById('orderItem1');
            var nav = document.getElementById('orderItem2');
            var search = document.getElementById('orderItem3');

            if (mode === 'normal') {
                logo.style.order = '1';
                nav.style.order = '2';
                search.style.order = '3';
            } else {
                logo.style.order = '1';
                nav.style.order = '3';
                search.style.order = '2';
            }

            setActiveBtnContains('orderBtnGroup', mode === 'normal' ? 'Desktop' : 'Mobile');
            updateOrderCode();
        }

        function setAlignSelf(value) {
            document.getElementById('orderItem3').style.alignSelf = value;
            setActiveBtn('alignSelfBtnGroup', value);
            updateOrderCode();
        }

        function updateOrderCode() {
            var logo = document.getElementById('orderItem1');
            var nav = document.getElementById('orderItem2');
            var search = document.getElementById('orderItem3');
            var code = '.logo   { order: ' + (logo.style.order || '0') + '; }\n.nav    { order: ' + (nav.style.order || '0') + '; }\n.search { order: ' + (search.style.order || '0') + '; }';
            if (search.style.alignSelf && search.style.alignSelf !== 'auto') {
                code += '\n.search { align-self: ' + search.style.alignSelf + '; }';
            }
            document.getElementById('orderCode').textContent = code;
        }

    </script>
</body>
</html>
